<app-template>
  <div class="category-list">
    <div class="panel-container">
      <div class="header-container">
        <span class="title">Categoria</span>
        <p-fieldset legend="Pesquisa">
          <div class="search-panel">
            <div class="search-container">
              <div class="input-container">
                <label>Nome</label>
                <input
                  [(ngModel)]="nome"
                  class="input"
                  pInputText
                  type="text"/>
              </div>
              <div class="dropdown-container">
                <label>Situação</label>
                <p-dropdown
                  [(ngModel)]="status"
                  [options]="situacoes"
                  optionLabel="label"
                  optionValue="value"
                  placeholder="Selecione"
                ></p-dropdown>
              </div>
            </div>
            <div class="button-container">
              <p-button
                (click)="loadData()"
                icon="pi pi-search"
                iconPos="left"
                label="Pesquisar"
                styleClass="button"
              ></p-button>
              <p-button
                (click)="limpar()"
                icon="pi pi-refresh"
                iconPos="left"
                label="Limpar"
                styleClass="button"
              ></p-button>
            </div>
          </div>
        </p-fieldset>
      </div>
      <div class="table-panel">
        <div class="title-two">
          <span>Lista de Categorias</span>
        </div>
        <div>
          <p-button (onClick)="clickAdicionar()" icon="pi pi-plus" iconPos="left" label="Adicionar"
                    styleClass="add-button"></p-button>
        </div>
      </div>
      <p-table
        [paginator]="true"
        [rows]="10"
        [value]="categories"
        class="table-list"
        dataKey="id" styleClass="p-datatable-gridlines"
      >
        <ng-template pTemplate="header">
          <tr style="text-align: center">
            <th style="width: 5%; text-align: center">#</th>
            <th>Nome</th>
            <th style="width: 10%; text-align: center">Situação</th>
            <th style="width: 10%; text-align: center">Ações</th>
          </tr>
        </ng-template>
        <ng-template let-category let-ri="rowIndex" pTemplate="body">
          <tr>
            <td style="text-align: center">{{ ri + 1 }}</td>
            <td>{{ category.name }}</td>
            <td style="text-align: center">{{ category.status }}</td>
            <td style="text-align: center">
              <p-button (onClick)="clickEditar(category.idCategory)" class="button-item"
                        icon="pi pi-pencil"></p-button>
              <p-button (onClick)="clickExcluir($event, category.idCategory)" class="button-item"
                        icon="pi pi-trash"></p-button>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>
</app-template>
